{
  "summary": "Spec to Tasks Flow",
  "description": "Generate specification, implementation plan, and task breakdown for a project by calling the DevGodzilla API (via API-wrapper scripts).",
  "value": {
    "modules": [
      {
        "id": "speckit_specify",
        "value": {
          "type": "script",
          "path": "u/devgodzilla/speckit_specify_api"
        },
        "input_transforms": {
          "project_id": { "type": "javascript", "expr": "flow_input.project_id" },
          "description": { "type": "javascript", "expr": "flow_input.feature_request" },
          "feature_name": { "type": "javascript", "expr": "flow_input.feature_name || ''" }
        }
      },
      {
        "id": "speckit_plan",
        "value": {
          "type": "script",
          "path": "u/devgodzilla/speckit_plan_api"
        },
        "input_transforms": {
          "project_id": { "type": "javascript", "expr": "flow_input.project_id" },
          "spec_path": {
            "type": "javascript",
            "expr": "results.speckit_specify.spec_path"
          }
        }
      },
      {
        "id": "speckit_tasks",
        "value": {
          "type": "script",
          "path": "u/devgodzilla/speckit_tasks_api"
        },
        "input_transforms": {
          "project_id": { "type": "javascript", "expr": "flow_input.project_id" },
          "plan_path": {
            "type": "javascript",
            "expr": "results.speckit_plan.plan_path"
          }
        }
      }
    ]
  },
  "schema": {
        "type": "object",
        "$schema": "https://json-schema.org/draft/2020-12/schema",
    "properties": {
      "project_id": { "type": "integer", "description": "Project ID", "default": 1 },
      "feature_request": {
        "type": "string",
        "description": "Description of the feature to implement",
        "default": ""
      },
      "feature_name": { "type": "string", "description": "Optional feature slug/name", "default": "" }
    },
    "required": [
      "project_id",
      "feature_request"
    ]
  }
}
